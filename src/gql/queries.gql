query NavbarHeight {
  navbarHeight @client
}

# Group

query WorkingGroups {
  working_group {
    id
    name
  }
}

query LocalGroups {
  local_group {
    id
    name
  }
}

query SelectedLocalGroups {
  selectedLocalGroups @client
}

query SelectedWorkingGroups {
  selectedWorkingGroups @client
}

query BoundsTimeCommitmentRange {
  role_aggregate {
    aggregate {
      min {
        time_commitment_min
      }
      max {
        time_commitment_max
      }
    }
  }
}

# Filter

query Limit {
  limit @client
}

query SearchString {
  searchString @client
}

query SelectedTimeCommitment {
  selectedTimeCommitment @client
}

query Filter @client {
  limit
  searchString
  selectedLocalGroups
  selectedWorkingGroups
  selectedTimeCommitment
}

# Role

fragment RoleFragment on role {
  id
  name
  location
  time_commitment_min
  time_commitment_max
  local_group {
    name
  }
  working_group {
    name
  }
}

query RolesFromServer(
  $limit: Int
  $search: String
  $localGroupIds: [Int!]
  $workingGroupIds: [Int!]
  $timeCommitmentMin: Int
  $timeCommitmentMax: Int
) {
  role(
    where: {
      name: { _ilike: $search }
      local_group: { id: { _in: $localGroupIds } }
      working_group: { id: { _in: $workingGroupIds } }
      time_commitment_min: { _gte: $timeCommitmentMin }
      time_commitment_max: { _lte: $timeCommitmentMax }
    }
    limit: $limit
  ) {
    ...RoleFragment
  }
}

query RolesFromClient {
  roles @client {
    ...RoleFragment
  }
}

query RoleDetailFromServer($id: Int!) {
  role(where: { id: { _eq: $id } }) {
    description
    contact_details
    responsibilities
  }
}

query RoleDetailFromClient($id: int!) {
  roleDetail(id: $id) @client {
    ...RoleFragment
    description
    contact_details
    responsibilities
  }
}

query RoleAllInfoFromServer($id: Int!) {
  role(where: { id: { _eq: $id } }) {
    ...RoleFragment
    description
    contact_details
    responsibilities
  }
}

query RoleAmount {
  roleAmount @client
}

# query RoleByIdFromCache($id: int!) {
#   role(id: $id) @client {
#     ...RoleFragment
#   }
# }
